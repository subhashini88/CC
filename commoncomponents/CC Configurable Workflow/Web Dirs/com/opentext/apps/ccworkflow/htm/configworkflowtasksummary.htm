<!DOCTYPE html>
<html lang="en">

<head>
    <title data-translatable="true">Task summary</title>
    <meta charset="utf-8">
    <script src="../../../../../com/opentext/apps/utils/js/appscommon.js" type="text/javascript"></script>
    <script src="../../../../../thirdparty/jquery/jquery.js" type="text/javascript"></script>
    <script src="../../../../../html5/cordys.html5sdk.js" type="text/javascript"></script>
    <script src="../../../../../com/opentext/apps/utils/js/translationsUtil.js" type="text/javascript"></script>
	<script src="../../../../../com/opentext/apps/utils/js/appscommon.js" type="text/javascript"></script>
    <script type="text/javascript">
        $.cordys.json.defaults.removeNamespacePrefix = true;
        $(function () {
            var i_locale = getlocale();
            translateLabels("com/opentext/apps/contractcenter/ContractCenter/ContractCenter", i_locale);
            var rtl_css = '../../../../../com/opentext/apps/utils/css/rtlappscommon.css';
            loadRTLIfRequired(i_locale, rtl_css);
            
            if (window.parent.parent) {
                taskSummaryFrame = $('[src*="configworkflowtasksummary.htm"]', window.parent.parent.document);
                if (taskSummaryFrame) {
                    taskSummaryFrame.css('border', 'none');
                }
            }
            var l_relatedInstanceType = getUrlParameterValue("relatedInstanceType", null, true);
            var l_item_LayoutID = getLayoutID(l_relatedInstanceType);
            var l_redirection_URL = "../../../../../app/start/web/#/item/" + l_item_LayoutID;
            if (window.navigator.language !== i_locale) {
                l_redirection_URL = setUrlParameter(l_redirection_URL, 'language', i_locale);
            }
            window.location = l_redirection_URL;
        });
        function getLayoutID(l_relatedInstanceType) {
            var l_item_LayoutID;
            var l_relatedInstanceID = getUrlParameterValue("relatedInstanceID", null, true);
            var l_referredInstanceID = getUrlParameterValue("referredInstanceID", null, true);
            var l_taskItemId = getUrlParameterValue("taskItem", null, true);
           if(l_relatedInstanceType==="Obligation" || l_relatedInstanceType==="ObligationWorkflow")
           {
            l_item_LayoutID = l_referredInstanceID+"/0050560179C2A1EC95FC1FC53FA16D6A/?obligationId="+l_referredInstanceID+"&taskId="+l_taskItemId+"&ctrItem="+l_relatedInstanceID+"&openContentInParentWindow=true";
           }else if(l_relatedInstanceType==="null" || l_relatedInstanceType==="Contract"){
            l_item_LayoutID = l_relatedInstanceID+"/F8B156BC2CB7A1EAA7C5E8641143B077/?&taskId="+l_taskItemId+"&ctrItem="+l_relatedInstanceID+"&openContentInParentWindow=true";
           }else if(l_relatedInstanceType==="Clause"){
            l_item_LayoutID = l_relatedInstanceID+"/3CE1A1C11D9AA1EE83FF54EA5462716F/?&taskId="+l_taskItemId+"&claItem="+l_relatedInstanceID+"&openContentInParentWindow=true";
           }else if(l_relatedInstanceType==="Template"){
            l_item_LayoutID = l_relatedInstanceID+"/3CE1A1C11D9AA1EE84DFB309B6F2B16F/?&taskId="+l_taskItemId+"&temItem="+l_relatedInstanceID+"&openContentInParentWindow=true";
           }else if(l_relatedInstanceType==="ContractRequest"){
            l_item_LayoutID = l_relatedInstanceID+"/84A938BFF78DA1EE8804073A612FCF63/?&taskId="+l_taskItemId+"&reqItem="+l_relatedInstanceID+"&openContentInParentWindow=true";
           }
            
            return l_item_LayoutID;
        }
    </script>
</head>

</html>